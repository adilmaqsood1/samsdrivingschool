{% load i18n %}

<div style="display: grid; gap: 10px;">
  <div style="display: flex; justify-content: space-between; align-items: center; gap: 10px;">
    <div style="display: grid; gap: 2px;">
      <div style="font-weight: 600;">{% trans "Google Calendar" %}</div>
    </div>
  </div>

  {% if embed_url %}
    <div style="min-height: {{ min_height }}px; position: relative;">
      <iframe
        title="Google Calendar"
        src="{{ embed_url }}"
        style="border: 0; width: 100%; height: 100%; position: absolute; inset: 0;"
        frameborder="0"
        scrolling="no"
        referrerpolicy="no-referrer"
      ></iframe>
    </div>
  {% else %}
    <div style="padding: 10px; border: 1px dashed rgba(109, 112, 118, 0.5); border-radius: 8px;">
      <div style="font-size: 13px;">
        {% trans "Calendar not configured." %}
        <div style="margin-top: 6px; font-size: 12px; opacity: 0.85;">
          {% trans "Set GOOGLE_CALENDAR_EMBED_URL (recommended) or set GOOGLE_CALENDAR_ID to your calendar id/email." %}
        </div>
        {% if calendar_id %}
          <div style="margin-top: 6px; font-size: 12px; opacity: 0.85;">
            {% trans "Current GOOGLE_CALENDAR_ID:" %} <span style="font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;">{{ calendar_id }}</span>
          </div>
        {% endif %}
      </div>
    </div>
  {% endif %}
</div>
